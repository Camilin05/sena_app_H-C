{% extends 'base.html' %}

{% block title %}Directorio de Instructores - Sistema Integral SENA{% endblock %}

{% block content %}
<div class="contenido_la">
<div class="encabezado-pagina animacion-entrada">
    <div class="contenedor-encabezado">
        <div class="info-encabezado">
            <h2>Directorio de Instructores SENA</h2>
            <p class="subtitulo-encabezado">Gestión integral del cuerpo docente institucional</p>
        </div>
        <div class="controles-encabezado">
            <div class="insignia-total">
                <i class="fas fa-chalkboard-teacher"></i>
                <span>Total: {{ total_instructores|default:"0" }} instructores</span>
            </div>
            <a href="{% url 'instructores:crear_instructor' %}" class="boton-nuevo">
                <i class="fas fa-plus"></i>
                Registrar Instructor
            </a>
        </div>
    </div>
</div>

<section class="sectionla">
{% if instructores %}
<div class="contenedor-tabla animacion-entrada aparecer">
    <table class="tabla-moderna">
        <thead>
            <tr>
                <th><i class="fas fa-id-badge"></i> Código</th>
                <th><i class="fas fa-user"></i> Instructor</th>
                <th><i class="fas fa-envelope"></i> Contacto</th>
                <th><i class="fas fa-graduation-cap"></i> Educación</th>
                <th><i class="fas fa-briefcase"></i> Especialidad</th>
                <th><i class="fas fa-circle"></i> Estado</th>
                <th><i class="fas fa-calendar"></i> Vinculación</th>
                <th><i class="fas fa-cogs"></i> Acciones</th>
            </tr>
        </thead>
        <tbody id="tablaInstructores">
            {% for instructor in instructores %}
            <tr class="fila-instructor">
                <td>
                    <a href="{% url 'instructores:detalle_instructor' instructor.id %}">
                        <span class="codigo-destacado">{{ instructor.documento_identidad }}</span>
                    </a>
                </td>
                <td>
                    <div>
                        <div class="nombre-instructor">{{ instructor.nombre_completo }}</div>
                        <div class="documento-instructor">{{ instructor.get_tipo_documento_display }}: {{ instructor.documento_identidad }}</div>
                    </div>
                </td>
                <td>
                    <div>
                        {% if instructor.email %}
                        <a href="mailto:{{ instructor.email }}" class="enlace-correo">
                            {{ instructor.email }}
                        </a>
                        {% endif %}
                        {% if instructor.telefono %}
                        <div class="documento-instructor">{{ instructor.telefono }}</div>
                        {% endif %}
                        {% if instructor.ciudad %}
                        <div class="documento-instructor">{{ instructor.ciudad }}</div>
                        {% endif %}
                    </div>
                </td>
                <td>
                    <span class="especialidad-etiqueta">{{ instructor.get_nivel_educativo_display }}</span>
                </td>
                <td>
                    <span class="especialidad-etiqueta">{{ instructor.especialidad }}</span>
                    <div class="documento-instructor">{{ instructor.anos_experiencia }} años exp.</div>
                </td>
                <td>
                    <span class="estado-{% if instructor.activo %}activo{% else %}inactivo{% endif %}">
                        {% if instructor.activo %}Activo{% else %}Inactivo{% endif %}
                    </span>
                </td>
                <td>
                    <span class="fecha-formateada">{{ instructor.fecha_vinculacion|date:"d/m/Y" }}</span>
                </td>
                <td>
                    <a href="{% url 'admin:instructores_instructor_change' instructor.pk %}" 
                        class="boton-accion" title="Editar información del instructor">
                        <i class="fas fa-edit"></i>
                        Editar
                    </a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

{% else %}
<div class="estado-vacio">
    <div class="icono-vacio">
        <i class="fas fa-chalkboard-teacher"></i>
    </div>
    <h3 class="titulo-vacio">No hay instructores registrados</h3>
    <p class="descripcion-vacio">
        Actualmente no se encuentran instructores registrados en el sistema institucional.<br>
        Inicie el proceso de registro para comenzar a gestionar el cuerpo docente.
    </p>
    <a href="{% url 'instructores:crear_instructor' %}" class="boton-accion-vacio">
        <i class="fas fa-plus"></i>
        Registrar Primer Instructor
    </a>
</div>
{% endif %}
</section>



</div>
{% endblock %}